---
puppeteer:

        format: A4
        displayHeaderFooter: false
        margin:
            top: 1cm
            right: 1cm
            bottom: 1cm
            left: 1cm
---

<center><h2>Project Yπολογιστικής Νοημοσύνης</h2></center>
<center><h3>Γενετικοί Αλγόριθμοι</h3></center>
<center><h4>Θεόδωρος Συμεωνίδης Α.Μ. 1064870<h4></center>

<div style="page-break-after: always;"></div>

### Πίνακας περιεχομένων

[TOC]

<div style="page-break-after: always;"></div>

----------------------------------------------

Το αποθετήριο του κώδικα στο Github βρίσκεται [εδώ](https://github.com/st1064870/genetic-algorithms-project-2020)

----------------------------------------------
### Σχετικά με τον αλγόριθμο

### Σχετικά με την υλοποίηση

### Β1. Σχεδιασμός ΓΑ
#### α) Κωδικοποίηση
> Να προτείνετε μια κωδικοποίηση για τα άτομα του πληθυσμού

Το κάθε άτομο θα αποτελείται από μια λίστα (διάνυσμα) με 1682 ακέραιους που ανήκουν στο διάστημα [1, 5], δηλαδή με τις αξιολογήσεις του για κάθε ταινία .

#### β) Πλεονάζουσες τιμές
> Είναι πιθανό να προκύψουν πλεονάζουσες τιμές, για παράδειγμα, τιμές > 5 λόγω δυαδικής κωδικοποίησης. Περιγράψτε πώς θα αντιμετωπίσετε το πρόβλημα αυτό. 

Με την συγκεκριμένη κωδικοποίηση δεν είναι πιθανό να προκύψουν πλεονάζουσες τιμές και άρα δεν χρειάζεται να αντιμετωπίσουμε αυτό το πρόβλημα.

> Εξετάστε αν μπορείτε να αποφύγετε τις πλεονάζουσες τιμές, αναθεωρώντας την κωδικοποίηση που προτείνατε στο (α).

Απαντήθηκε στο παραπάνω ερώτημα.

#### γ) Αρχικός πληθυσμός
> Περιγράψτε μια διαδικασία για τη δημιουργία αρχικού πληθυσμού ατόμων.

Η διαδικασία που θα ακολουθήσουμε για τη δημιουργία του αρχικού πληθυσμού είναι η εξής. Επιλέγουμε έναν χρήστη (διάνυσμα γραμμή) από τον 943x1682 πίνακα του ml100k dataset ο οποίος θα είναι το άτομο. Αυτός θα έχει κάποιες κενές τιμές στις ταινίες που δεν έχει αξιολογήσει ο χρήστης. 

> Τι είδους αρχικές τιμές θα επιλέξετε για τις ταινίες που δεν έχει δει ο χρήστης; Μπορεί να αντιστοιχούν στο μέσο όρο, όπως στο μέρος Α;

Για τη δημιουργία του πληθυσμού θα βασιστούμε στο διάνυσμα που επιλέξαμε παραπάνω και τις κενές τιμές θα τις γεμίσουμε με τυχαίες τιμές. 
Προφανώς δεν μπορούμε να τις γεμίσουμε με τον μέσο όρο των βαθμολογιών του χρήστη αφού ο αρχικός πληθυσμός θα αποτελούταν από ίδια άτομα, θα μπορούσαμε όμως να προσθέταμε σε αυτόν τον μέσω όρο ένα μικρό ποσό θορύβου ώστε να παίρναμε διαφορετικά άτομα. Ωστόσο πιστεύουμε πως ακόμα και μετά αυτό το τέχνασμα ο αρχικός υποχώρος στον οποίο θα ψάξουμε για λύσεις είναι αρκετά μικρός και πιθανότατα να συγκλίνει ο αλγόριθμος σε κάποιο τοπικό ελάχιστο.

> Τι θα συμβεί με τις τιμές για τις ταινίες που o χρήστης έχει δει; Θα τις συμπεριλάβετε στα γονίδια των ατόμων του πληθυσμού; Θα πρέπει να παραμένουν σταθερές;

Τις τιμές για τις βαθμολογίες των ταινιών που έχει ήδη δει ο χρήστης θα τις συμπεριλάβουμε στα γονίδια των ατόμων του πληθυσμού, γιατί χρειάζονται στη συνάρτηση καταλληλότητας. Ωστόσο αυτές θα πρέπει να παραμένουν σταθερές.

#### δ) Διαδικασία επιδιόρθωσης
> Αν η κωδικοποίησή σας είναι πιθανό να δημιουργεί μη νόμιμες λύσεις, προδιαγράψτε μια διαδικασία χειρισμού των μη νόμιμων λύσεων, **σχολιάζοντας** και **αξιολογώντας** τις παρακάτω εναλλακτικές:

Στη κωδικοποίηση μας μπορεί να προκύψουν μη νόμιμες λύσεις αφού στην κωδικοποίηση του ατόμου έχουμε συμπεριλάβει και τις βαθμολογίες ταινιών τις οποίες ο χρήστης έχει βαθμολογήσει οι οποίες δεν θέλουμε να αλλάξουν τιμή.

> Απόρριψη της μη νόμιμης λύσης από τον πληθυσμό και αντικατάστασής της από κάποιο άλλο άτομο (τυχαία ή με ελιτισμό).

Η μέθοδος επιδιόρθωσης με τυχαίο άτομο (ανάλογα και το $$p_mutation$$) είναι πολύ αργή, διότι κάθε φορά πρέπει να βρεθεί τυχαία ένα άτομο το οποίο ενώ η μέθοδος αντικατάστασης με τον ελίτ της κάθε γενιάς περιορίζει πολύ τον χώρο εύρεσης λύσεων.

> Επιδιόρθωση: Διαδικασία επιδιόρθωσης (repair procedure) η οποία αντιστοιχίζει τη μη νόμιμη λύση σε μια νόμιμη, π.χ. αντικατάσταση κάθε φορά των γνωστών αξιολογήσεων με τις πραγματικές τιμές.

Αυτή κρίναμε αρχικά και στη συνέχεια επιβεβαιώσαμε και πρακτικά πως είναι η καλύτερη λύση για την επιδιόρθωση. Έχει σταθερό χρόνο και μας εγγυάται σωστές απαντήσεις.

> Εφαρμογή ποινής: Μια μη νόμιμη λύση γίνεται αποδεκτή, αλλά της εφαρμόζεται ανάλογη ποινή από την συνάρτηση καταλληλότητας. Να **περιγράψετε** μια διαδικασία εφαρμογής ποινής για τέτοιες λύσεις.

Ουσιαστικά το να εφαρμόσουμε τιμή από τη συνάρτηση καταλληλότητας σημαίνει να αυξήσουμε την "απόσταση" μεταξύ του ατόμου και της γειτονιάς του, δηλαδή να το απομακρύνουμε από τη γειτονιά του. Αυτό πιστεύουμε πως μπορούμε να το πετύχουμε με δύο τρόπους. Ο πρώτος είναι να βρούμε ένα "μέσο" διάνυσμα αντιπροσωπευτικό για τη γειτονιά του και να αφαιρέσουμε από το διάνυσμα του χρήστη, ένα ποσοστό του προϋπολογισθέντος μέσου αυτού διανύσματος. Ο δεύτερος είναι να αφαιρέσουμε από τον χρήστη ένα ποσοστό του διανύσματος του κάθε χρήστη που ανήκει στη γειτονιά του. Προφανώς όπου έχουμε ελλιπείς τιμές θα πρέπει να τις γεμίσουμε με τον μέσο όρο του διανύσματος.

#### ε) Εύρεση γειτονιάς χρήστη
> Υπολογίστε την απόσταση του χρήστη από όλους τους υπόλοιπους στο σύνολο εκπαίδευσης

> βρείτε τους top-10 που είναι πιο κοντά (γειτονιά του χρήστη)

> Να χρησιμοποιήσετε την μετρική Pearson και να σχολιάσετε την καταλληλότητά της, σε σχέση και με τις υπόλοιπες, για την αποφυγή της πόλωσης στις βαθμολογίες.

> Να αιτιολογήσετε πώς θα αντιμετωπίσετε τις ελλιπείς τιμές, ειδικά για τον υπολογισμό της γειτονιάς

Στον υπολογισμό της γειτονιάς γεμίσαμε τις ελλιπείς τιμές με τον μέσο όρο του κάθε χρήστη αντίστοιχα.

#### στ) Συνάρτηση καταλληλότητας
> Επειδή η τιμή του συντελεστή Pearson κινείται στο [-1, 1],εξετάστε αν χρειάζεται να κλιμακώστε κατάλληλα τη συνάρτηση καταλληλότητας, ώστε να παίρνει μόνο μη αρνητικές τιμές.

Η συνάρτηση καταλληλότητας που βασίζεται στον συντελεστή pearson θα χρειαστεί κλιμάκωση μόνο σε περίπτωση που χρειαζόμαστε κάποια θετική συνάρτηση καταλληλότητας (π.χ. αν χρησιμοποιηθεί ρουλέτα στο στάδιο της επιλογής)

#### ζ) Γενετικοί τελεστές
> Nα προτείνετε τους τελεστές επιλογής, διασταύρωσης και μετάλλαξης που θα χρησιμοποιήσετε

> Να αξιολογήσετε τη χρήση ρουλέτας με βάση το κόστος, με βάση την κατάταξη και τουρνουά.

> Να αξιολογήσετε την καταλληλότητα των ακόλουθων τελεστών: Διασταύρωση μονού σημείου, διασταύρωση πολλαπλού σημείου, ομοιόμορφη διασταύρωση, OX και PMX.

> Nα αξιολογήσετε τη χρήση ελιτισμού

### B2. Υλοποίηση ΓΑ
> Να γράψετε ένα πρόγραμμα, σε οποιοδήποτε περιβάλλον ή γλώσσα προγραμματισμού, που να υλοποιεί τον γενετικό αλγόριθμο που σχεδιάσετε

Ο κώδικας για τον γενετικό αλγόριθμο βρίσκεται στο αποθετήριο, πιο συγκεκριμένα σε αυτό το αρχείο. Πατήστε [εδώ](https://github.com/st1064870/genetic-algorithms-2020/blob/master/cf-ml100k).

### Β3. Αξιολόγηση και Επίδραση Παραμέτρων
#### α)
> Να τρέξετε τον αλγόριθμο για τις τιμές των παραμέτρων που φαίνονται στον παρακάτω πίνακα και να τον συμπληρώσετε.

#### β)
> Για κάθε περίπτωση του παραπάνω πίνακα να σχεδιάστε την καμπύλη εξέλιξης (απόδοση/αριθμό γενιών) της καλύτερης λύσης (της μέσης τιμής αυτής, σε κάθε τρέξιμο)

#### γ)
> να διατυπώσετε αναλυτικά τα συμπεράσματά σας σχετικά με την επίδραση της κάθε παραμέτρου (μέγεθος πληθυσμού, πιθανότητα διασταύρωσης, πιθανότητα μετάλλαξης) στη σύγκλιση του αλγορίθμου.

### Β4. Αξιολόγηση Συστάσεων
#### α)
> Εφαρμόστε holdout για να δημιουργήσετε σύνολο εκπαίδευσης και σύνολο ελέγχου.

#### β)
> να αναφέρετε RMSE και ΜΑΕ για τις 10 αξιολογήσεις που περιέχονται στο σύνολο ελέγχου, για έναν χρήστη της επιλογής σας
 
>  αντίστοιχες γραφικές παραστάσεις ανά γενιά

>  αντίστοιχες γραφικές παραστάσεις ανά γενιά